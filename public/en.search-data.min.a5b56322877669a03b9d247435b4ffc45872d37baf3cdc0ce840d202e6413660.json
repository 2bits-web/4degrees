[{"id":0,"href":"/docs/life/failures/","title":"Learning from Failures","section":"Out of the Machine","content":" Learning from Failures # Resource Sharing vs Isolation # If workloads are imbalanced, resource isolation may improve performance for some workloads on a system but may degrade performance for others. In addition, the overall performance may be worse than before. Instead, sharing resources can lead to good performance overall, although some workloads may not reach their optimal. It might seem unfair to the workloads which don\u0026rsquo;t get the optimal performance from the system but it helps the system alleviate the performance penalties of other workloads running on the system. I learned it from a project I undertook during my Ph.D. We did not expect this outcome and the project ultimately failed. However, it left a valuable lesson for me. It feels like the observation could span beyond computer systems, and could be true for economy and society overall.\n"},{"id":1,"href":"/docs/data_storage/data/trace/","title":"Traces","section":"Understanding Workloads","content":" Challenges in Trace Replay # Real-world Traces # RocksDB # Twitter # IBM # "},{"id":2,"href":"/docs/data_storage/data/","title":"Understanding Workloads","section":"Data Storage Systems","content":" Chapter 1: Understanding Workloads # Key-Value Workloads # Block-based Workloads # "},{"id":3,"href":"/docs/data_storage/data/benchmark/","title":"Benchmarks","section":"Understanding Workloads","content":" Challenges in Benchmarking # Benchmarking Suites # Flexible I/O tester (FIO) # Yahoo! Cloud Serving Benchmark (YCSB) # dbbench # "},{"id":4,"href":"/docs/data_storage/","title":"Data Storage Systems","section":"Docs","content":"In my opinion, we can view data storage systems through many lenses. We can explore it by analyzing the underlying data structures and their interactions to store, manage and retrieve data and metadata. We can also explore at as a I/O stack consisting of different sub-systems or layers and the interfaces through which these sub-systems interact. We can also take a hybrid approach. I\u0026rsquo;ll follow a hybrid approach.\n4 Degrees of Data Storage Systems # mindmap ((Data Storage)) Components Communication Data Structure Request Processing Don\u0026rsquo;t discard the above categorization because you don\u0026rsquo;t see performance anywhere. In my opinion, performance is a cross-cutting issue present in each degree separately and across the whole system. In addition, the above 4 degrees can also be utilized to explain subsystems or components of data storage systems.\nThings to remember # We always need metadata to be manage data efficiently. Sometimes, metadata can be larger than data itself! The same problem can be solved in different ways. Each design choice has some trade-offs. There are multiple theorems which talks about this in the context of data storage and databases - RUM conjecture, CAP theorem. Interestingly, there are also works trying to achieve the optimal data structure design. Optimization efforts can focus on optimizing a layer in the storage stack(e.g., FTL design in SSD, index design for database), or streamlining the storage stack (e.g., SNIA key-value stack), or bypassing one or more layers completely (e.g., SPDK, SNIA key-value stack). When optimizing a layer, make it efficient without adding overheads in other layers. Look at the KV-SSD experience. The host-side storage stack was streamlined, but many jobs were now delegated to the SSD, without adding compute power. Some computational SSD designs do this delegation by adding special hardware inside the storage device. However, it is still not clear if such devices provided good end-to-end benefits. Similar to 4, when you are analyzing a new solution, think in terms of the whole stack. Is the problem solved by making a particular layer efficient, or by delegating to another layer? Does I/O performance improves end-to-end? A lot of times, the cool new feature that solves a problem is not available commercially or widely enough in most systems. So the problem it solves is still out there and needs to be solved in a different way. If you design a solution that is for the systems without this cool new feature, be extra careful to convey this information, especially when writing an academic paper. Systems people are highly sensitive about this, in my experience. I once got a review that a problem we identified regarding persistent memory devices has been solved by the introduction of eADR feature in Intel Optane, and thus the problem we identified is no longer relevant. However, I have seen a number of high-end machines using Intel Optane persistent memory devices over the years, and yet to encounter a system that supports the eADR feature. Hence, the problem we identified is still valid for most systems using Intel Optane, except for the device has been discontinued by Intel! Different layers in the storage stack employ their own cache. Hence, the entire stack tends to have a multi-layer caching system, which does not interact with each other directly. This can incur additional data copy and overheads. Some optimization techniques also bypass certain caches to avoid these overheads, and may use their own cache. "}]